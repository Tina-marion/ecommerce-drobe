{% if messages %}
    <div class="messages-wrapper">
        {% for message in messages %}
            {% comment %} Map common tags to icons for clarity {% endcomment %}
                    <div class="alert alert-{{ message.tags }} alert-dismissible fade show d-flex align-items-start" role="alert">
                        <div class="me-3">
                            <i class="fas {% if 'success' in message.tags %}fa-check-circle{% elif 'error' in message.tags or 'danger' in message.tags %}fa-exclamation-triangle{% elif 'warning' in message.tags %}fa-exclamation-circle{% else %}fa-info-circle{% endif %} fa-lg" aria-hidden="true"></i>
                        </div>
                        <div class="flex-grow-1">{{ message }}</div>
                        <button type="button" class="btn-close ms-3" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
        {% endfor %}
    </div>
{% endif %}
